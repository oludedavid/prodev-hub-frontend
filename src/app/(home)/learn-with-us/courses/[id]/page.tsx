/* eslint-disable */
"use client";
import React from "react";
import { CourseOfferedType } from "@/types/courseOffered";
import CallToAction from "@/components/custom-component/callToAction/call-to-action";
import BackgroundRectPattern from "@/components/custom-component/background/backgroundRect";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import ProfileAvatar from "@/components/custom-component/avatar/profileAvatar";
import Rating from "@/components/custom-component/ratings/rating";
import { IoMdStar } from "react-icons/io";
import Image from "next/image";
import { useRouter, usePathname, useSearchParams } from "next/navigation";
import { CartType } from "@/types/basket";
import { Button } from "@/components/ui/button";
import Cookies from "universal-cookie";
import CourseCard from "@/components/custom-component/course/course-card";
import axios from "axios";
const baseUrl = `${process.env.NEXT_PUBLIC_PRODEV_HUB_BACKEND_ROOT_URL}`;
const getAllCoursesOfferedUrl = `${baseUrl}/courses`;
const getCourseByIdUrl = `${baseUrl}/courses/course-by-id`;
const getBasketUrl = `${baseUrl}/cart`;
const cookies = new Cookies();
const loggedUser = cookies.get("USER");
type CartPayloadType = {
  courseOfferedId: string;
  quantity: 1;
};
const CourseDetails = ({ params }: { params: { id: string } }) => {
  const [cart, setCart] = React.useState<CartType>();
  const [activeTab, setActiveTab] = React.useState("overview");
  const [courseData, setCourseData] = React.useState<CourseOfferedType>();
  const [allCourseData, setAllCourseData] =
    React.useState<CourseOfferedType[]>();
  const router = useRouter();
  const [loading, setLoading] = React.useState(true);
  const cartPayload: CartPayloadType = {
    courseOfferedId: params.id,
    quantity: 1,
  };
  React.useEffect(() => {
    const fetchData = async () => {
      setLoading(true);

      try {
        const [courseRes, allCoursesRes] = await Promise.all([
          axios.get(`${getCourseByIdUrl}/${params.id}`),
          axios.get(getAllCoursesOfferedUrl),
        ]);

        setCourseData(courseRes.data);
        setAllCourseData(allCoursesRes.data);
      } catch (error) {
        console.error("Error fetching data", error);
      }

      setLoading(false);
    };

    fetchData();
  }, [params.id]);

  const addToCart = async () => {
    try {
      if (!loggedUser) {
        // Store the intended redirect path (cart) in localStorage before routing to login
        localStorage.setItem("redirectAfterLogin", "/basket");
        router.push("/login");
        return;
      }

      const token = cookies.get("TOKEN");
      const cartPayload = {
        courseOfferedId: params.id,
        quantity: 1,
      };

      const response = await axios.post(getBasketUrl, cartPayload, {
        headers: {
          Authorization: `Bearer ${token}`,
        },
      });

      setCart(response.data);
      router.push("/basket");
    } catch (error) {
      console.error("Error adding to cart:", error);
    }
  };

  React.useEffect(() => {
    // After login, check if there's a stored redirect path
    const redirectAfterLogin = localStorage.getItem("redirectAfterLogin");
    if (redirectAfterLogin) {
      router.push(redirectAfterLogin);
      localStorage.removeItem("redirectAfterLogin");
    }
  }, []);

  if (loading) {
    return <p>Loading...</p>;
  }

  const handleTabChange = (value: string) => {
    setActiveTab(value);
  };

  return (
    <div className="sm:px-2 lg:px-[150px] md:px-[150px]">
      <BackgroundRectPattern>
        <h1 className="text-[40px] w-full flex items-center justify-center font-bold">
          {courseData?.name || "Course Name"}
        </h1>
      </BackgroundRectPattern>
      <div className="w-full flex items-start justify-center gap-9 py-20">
        {/* First Part of the corse detail card */}
        <div className="w-[582px]  border-none h-[732px] flex flex-col gap-8 items-center justify-start rounded-[6px]">
          <div
            style={{
              background: "rgba(102, 63, 214, 0.62)",
            }}
            className="w-full flex flex-col items-center justify-center rounded-[6px]"
          >
            <div
              style={{
                boxShadow:
                  "0px 1.249px 19.863px 1.249px rgba(107, 66, 225, 0.12)",
              }}
              className="w-full flex flex-col items-center justify-center "
            >
              <picture className="w-full p-3">
                <img
                  src={`/images/courseDetailImage.png`}
                  alt="course image"
                  width={500}
                  height={300}
                  className="w-[560px] h-[270px] object-cover"
                />
              </picture>
              <div className="w-full flex items-center pl-2 py-3 justify-start">
                <h2 className="w-[532px] h-[35px] text-[18px] flex items-center justify-start font-bold text-[#FFF]">
                  {courseData?.name}
                </h2>
              </div>
            </div>
          </div>
          <div className="w-[530PX] h-[50px] flex items-center justify-between">
            <ProfileAvatar
              entityName={courseData?.tutorName}
              typeOfEntity="instructor"
              imageUrl={`${courseData?.imageUrl}` || ""}
            />
            <div className="flex flex-col gap-1">
              <h5 className="text-[#E3E3E3] text-[14px]">Starting Date:</h5>
              <p className="w-[153px] h-[24px] text-[#E3E3E3] text-[12px] ">
                {"2023-01-01"}
              </p>
            </div>
            <div className="flex flex-col gap-1">
              <h5 className="text-[#E3E3E3] text-[14px]">Review</h5>
              <div className="flex items-center gap-1">
                <Rating rating={5} />
              </div>
            </div>
          </div>
          <Tabs
            defaultValue="overview"
            style={{
              background: "rgba(83, 104, 197, 0.05)",
              border: "",
              boxShadow:
                "0px 1.249px 19.863px 1.249px rgba(107, 66, 225, 0.12)",
            }}
            onValueChange={handleTabChange}
            className="w-[583px] h-[360px] rounded-[5.908px]"
          >
            <TabsList
              className={`w-full flex justify-between bg-[#663FD6] text-white`}
            >
              <TabsTrigger
                className={` flex gap-1 items-center justify-center`}
                value={"overview"}
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="17"
                  height="17"
                  viewBox="0 0 17 17"
                  fill="none"
                >
                  <g clip-path="url(#clip0_2057_602)">
                    <path
                      d="M0.459962 16.341H9.40308C9.67574 16.341 9.89638 16.1203 9.89638 15.8478V15.3545H2.43275C1.61685 15.3545 0.953128 14.6909 0.953128 13.875V1.51236H0.459962C0.187437 1.51236 -0.0332031 1.733 -0.0332031 2.00565V15.8478C-0.0332031 16.1203 0.187437 16.341 0.459962 16.341Z"
                      fill="white"
                    />
                    <path
                      d="M7.92188 3.48519H10.592L7.92188 0.815033V3.48519Z"
                      fill="white"
                    />
                    <path
                      d="M2.43262 0.526031C2.15996 0.526031 1.93945 0.746672 1.93945 1.0192V13.875C1.93945 14.1475 2.15996 14.3682 2.43262 14.3682H10.3894C10.6619 14.3682 10.8826 14.1475 10.8826 13.875V13.2411C10.5616 13.3252 10.2331 13.3819 9.89624 13.3819C7.72066 13.3819 5.95066 11.6119 5.95066 9.43627C5.95066 7.26082 7.72066 5.49082 9.89624 5.49082C10.2388 5.49082 10.5654 5.54849 10.8826 5.63094V4.47148H7.43029C7.15763 4.47148 6.93712 4.25097 6.93712 3.97832V0.526031H2.43262Z"
                      fill="white"
                    />
                    <path
                      d="M13.7026 11.8502C13.5101 11.6577 13.1981 11.6577 13.0056 11.8499L12.3023 11.1466C12.6466 10.663 12.8538 10.0752 12.8538 9.43629C12.8538 7.80204 11.5289 6.47717 9.89467 6.47717C8.26029 6.47717 6.93555 7.80204 6.93555 9.43629C6.93555 11.0707 8.26029 12.3954 9.89467 12.3954C10.5335 12.3954 11.1213 12.1884 11.605 11.8441L12.3081 12.5472L12.3077 12.5475C12.1151 12.7401 12.1151 13.0523 12.3077 13.2451L15.1154 16.0527C15.5001 16.4374 16.1261 16.4367 16.5103 16.0527C16.8945 15.6684 16.8945 15.0423 16.5103 14.6579L13.7026 11.8502Z"
                      fill="white"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_2057_602">
                      <rect width="16.8334" height="16.8334" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
                Overview
              </TabsTrigger>
              <TabsTrigger
                className="flex gap-1 items-center justify-center"
                value="curriculum"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="12"
                  height="15"
                  viewBox="0 0 12 15"
                  fill="none"
                >
                  <path
                    d="M2.02843 14.3333H10.3895C10.7063 14.3333 11.0101 14.2075 11.2341 13.9835C11.4581 13.7595 11.584 13.4557 11.584 13.1389V1.19444C11.584 0.877658 11.4581 0.573846 11.2341 0.349845C11.0101 0.125843 10.7063 1.23427e-08 10.3895 1.23427e-08H4.34804C4.02342 -4.58718e-05 3.71185 0.127842 3.48087 0.355944L1.18754 2.65167C0.962236 2.88041 0.835344 3.18821 0.833984 3.50928V13.1389C0.833984 13.4557 0.959827 13.7595 1.18383 13.9835C1.40783 14.2075 1.71164 14.3333 2.02843 14.3333ZM9.43398 10.9889H2.7451C2.68174 10.9889 2.62098 10.9637 2.57618 10.9189C2.53138 10.8741 2.50621 10.8134 2.50621 10.75C2.50621 10.6866 2.53138 10.6259 2.57618 10.5811C2.62098 10.5363 2.68174 10.5111 2.7451 10.5111H9.43398C9.49734 10.5111 9.5581 10.5363 9.6029 10.5811C9.64771 10.6259 9.67287 10.6866 9.67287 10.75C9.67287 10.8134 9.64771 10.8741 9.6029 10.9189C9.5581 10.9637 9.49734 10.9889 9.43398 10.9889ZM9.43398 8.83889H2.7451C2.68174 8.83889 2.62098 8.81372 2.57618 8.76892C2.53138 8.72412 2.50621 8.66336 2.50621 8.6C2.50621 8.53664 2.53138 8.47588 2.57618 8.43108C2.62098 8.38628 2.68174 8.36111 2.7451 8.36111H9.43398C9.49734 8.36111 9.5581 8.38628 9.6029 8.43108C9.64771 8.47588 9.67287 8.53664 9.67287 8.6C9.67287 8.66336 9.64771 8.72412 9.6029 8.76892C9.5581 8.81372 9.49734 8.83889 9.43398 8.83889ZM9.43398 6.68889H2.7451C2.68174 6.68889 2.62098 6.66372 2.57618 6.61892C2.53138 6.57412 2.50621 6.51336 2.50621 6.45C2.50621 6.38664 2.53138 6.32588 2.57618 6.28108C2.62098 6.23628 2.68174 6.21111 2.7451 6.21111H9.43398C9.49734 6.21111 9.5581 6.23628 9.6029 6.28108C9.64771 6.32588 9.67287 6.38664 9.67287 6.45C9.67287 6.51336 9.64771 6.57412 9.6029 6.61892C9.5581 6.66372 9.49734 6.68889 9.43398 6.68889ZM5.31793 4.3H9.43398C9.49734 4.3 9.5581 4.32517 9.6029 4.36997C9.64771 4.41477 9.67287 4.47553 9.67287 4.53889C9.67287 4.60225 9.64771 4.66301 9.6029 4.70781C9.5581 4.75261 9.49734 4.77778 9.43398 4.77778H5.31793C5.25457 4.77778 5.19381 4.75261 5.14901 4.70781C5.10421 4.66301 5.07904 4.60225 5.07904 4.53889C5.07904 4.47553 5.10421 4.41477 5.14901 4.36997C5.19381 4.32517 5.25457 4.3 5.31793 4.3ZM4.17843 4.3C4.22568 4.3 4.27186 4.31401 4.31115 4.34026C4.35043 4.36651 4.38105 4.40382 4.39913 4.44747C4.41721 4.49112 4.42195 4.53915 4.41273 4.58549C4.40351 4.63183 4.38076 4.6744 4.34735 4.70781C4.31394 4.74122 4.27137 4.76397 4.22503 4.77319C4.17869 4.7824 4.13066 4.77767 4.08701 4.75959C4.04336 4.74151 4.00605 4.71089 3.9798 4.67161C3.95355 4.63232 3.93954 4.58614 3.93954 4.53889C3.93954 4.47553 3.96471 4.41477 4.00951 4.36997C4.05431 4.32517 4.11507 4.3 4.17843 4.3ZM3.70065 0.812222V2.12611C3.70065 2.32252 3.62263 2.51088 3.48375 2.64976C3.34487 2.78864 3.1565 2.86667 2.9601 2.86667H1.64621L3.70065 0.812222Z"
                    fill="white"
                  />
                </svg>
                Curriculum
              </TabsTrigger>
              <TabsTrigger
                className="flex gap-2 items-center justify-center"
                value={"instructor"}
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="17"
                  viewBox="0 0 18 17"
                  fill="none"
                >
                  <g clip-path="url(#clip0_2057_600)">
                    <path
                      d="M17.664 1.86614V8.94779C17.6636 9.08193 17.6102 9.21048 17.5153 9.30533C17.4204 9.40019 17.2919 9.45364 17.1578 9.454H7.90211C8.14394 9.0752 8.33196 8.6529 8.42361 8.24004C8.44626 8.13896 8.46706 8.03788 8.48501 7.93585H16.7986V2.13726H6.48408V2.73338C6.45193 2.73906 6.42077 2.74567 6.38876 2.7531C6.36439 2.75296 6.34019 2.74914 6.31697 2.74176C6.23534 2.71565 6.15628 2.68213 6.08075 2.64163C5.93228 2.56654 5.77736 2.50493 5.61786 2.45756V1.86614C5.61845 1.73187 5.67211 1.60329 5.76716 1.50845C5.8622 1.41361 5.9909 1.36022 6.12516 1.35992H17.1578C17.2919 1.36029 17.4204 1.41374 17.5153 1.50859C17.6102 1.60345 17.6636 1.73199 17.664 1.86614ZM13.1926 10.7352H12.8895C12.7692 10.4716 12.6687 10.1994 12.5889 9.92087H10.6938C10.6139 10.1994 10.5134 10.4716 10.3931 10.7352H10.0901C9.90208 10.7352 9.74904 10.9166 9.74904 11.1386V11.4835H13.5336V11.1386C13.5336 10.9166 13.3806 10.7352 13.1926 10.7352ZM10.5267 15.2057C10.5277 15.2161 10.5286 15.2254 10.5286 15.2369C10.5285 15.2987 10.5039 15.358 10.4601 15.4017C10.4164 15.4455 10.3571 15.4701 10.2952 15.4702H1.06699V15.4691H1.05092C0.989169 15.4647 0.931696 15.436 0.891127 15.3892C0.850559 15.3424 0.830214 15.2815 0.834562 15.2197C1.0736 11.9906 1.85205 11.6241 3.23796 10.9713C3.62012 10.792 4.05162 10.5886 4.53223 10.2857V9.99115C4.44958 9.92097 4.37074 9.84642 4.29605 9.76782C3.85482 9.30579 3.51763 8.68045 3.3967 8.13913C3.35117 7.943 3.31804 7.74419 3.29749 7.5439C3.28806 7.54199 3.27863 7.54008 3.26916 7.53732C3.21064 7.52155 3.15371 7.50037 3.09912 7.47405H3.09438L3.03959 7.44285C2.82533 7.32117 2.66521 7.12273 2.59157 6.88759C2.51792 6.65245 2.53623 6.39813 2.6428 6.17597V6.17127L2.674 6.11742C2.71514 6.04494 2.7653 5.97795 2.82326 5.91806V4.97239C2.82546 4.61233 2.9156 4.25826 3.08585 3.94098C3.2561 3.62371 3.50129 3.35283 3.80009 3.15192C4.12493 2.93433 4.507 2.81794 4.89799 2.81746C5.23669 2.82061 5.56993 2.90313 5.87097 3.05837C5.97257 3.11267 6.0792 3.15697 6.18936 3.19065C6.28829 3.22215 6.39361 3.228 6.49542 3.20764C6.622 3.17735 6.75167 3.16182 6.88182 3.16136C7.26332 3.16161 7.63169 3.30064 7.91822 3.55252C8.20456 3.80489 8.40419 4.14099 8.48879 4.51318C8.5242 4.66366 8.54195 4.81774 8.54168 4.97233V5.91799C8.68066 6.06081 8.77247 6.24282 8.80474 6.43947C8.83702 6.63611 8.80819 6.83792 8.72214 7.01766V7.0224L8.69095 7.07719C8.60745 7.22587 8.48575 7.34954 8.33844 7.43542C8.25428 7.48488 8.16321 7.5215 8.06824 7.54409C8.04779 7.74444 8.01435 7.94325 7.96811 8.13926C7.84813 8.68058 7.50992 9.30598 7.06968 9.76796C6.99381 9.84758 6.91371 9.92306 6.82972 9.99408V10.286C7.3103 10.5888 7.7418 10.7922 8.12399 10.9715C9.50816 11.6232 10.2866 11.9898 10.5266 15.2057H10.5267ZM7.99375 6.11174C8.04515 6.42017 8.07575 6.73172 8.08533 7.04426C8.0915 7.04146 8.09749 7.0383 8.10328 7.03479C8.17944 6.98996 8.24234 6.92574 8.28558 6.84867L8.28654 6.84775C8.31948 6.78988 8.3407 6.72608 8.34898 6.66001C8.35727 6.59393 8.35246 6.52687 8.33482 6.46265C8.31719 6.39843 8.28708 6.33832 8.24621 6.28574C8.20534 6.23316 8.15452 6.18915 8.09664 6.15621H8.09572C8.06336 6.13791 8.02919 6.123 7.99375 6.11174ZM3.37208 6.11174C3.34856 6.1191 3.32551 6.12788 3.30305 6.13803C3.20871 6.18249 3.13048 6.25511 3.07913 6.34588V6.3468C3.04622 6.4046 3.02502 6.46833 3.01676 6.53434C3.00849 6.60034 3.01331 6.66733 3.03095 6.73146C3.04858 6.7956 3.07869 6.85564 3.11954 6.90814C3.16039 6.96063 3.21119 7.00457 3.26903 7.03742V7.03834C3.2726 7.04003 3.27607 7.04193 3.27941 7.04403C3.28993 6.73157 3.32091 6.42014 3.37214 6.11174H3.37208ZM4.9989 10.3035V10.6464C4.9989 10.8273 5.07076 11.0008 5.19868 11.1287C5.32659 11.2566 5.50008 11.3285 5.68098 11.3285C5.86187 11.3285 6.03536 11.2566 6.16328 11.1287C6.29119 11.0008 6.36305 10.8273 6.36305 10.6464V10.3053C6.15321 10.4145 5.92122 10.4743 5.68476 10.4801H5.6772C5.44066 10.4734 5.20875 10.413 4.99897 10.3035H4.9989ZM4.63328 9.44756C4.71434 9.5329 4.80118 9.61256 4.89319 9.68597C4.90318 9.69257 4.91265 9.69992 4.92152 9.70796C5.16434 9.89428 5.4257 10.0127 5.68288 10.0153C5.93846 10.0127 6.19817 9.89576 6.43974 9.71145C6.44897 9.703 6.45886 9.69531 6.46932 9.68844C6.56248 9.61436 6.65035 9.53388 6.73229 9.44756C7.11774 9.04325 7.41157 8.50285 7.51462 8.03897C7.58783 7.73683 7.62368 7.42685 7.62139 7.11598C7.61856 6.73527 7.56186 6.2421 7.40977 5.52601C7.33978 5.26957 7.17981 5.04691 6.95914 4.89873C6.8189 4.80611 6.65792 4.74965 6.49056 4.73437C6.35399 4.71816 6.21571 4.74351 6.09377 4.80712C6.00375 4.85671 5.93564 4.9383 5.90292 5.03573V5.03478C5.89801 5.04952 5.89168 5.06376 5.88402 5.07728C5.66109 5.46464 5.30878 5.65736 4.89868 5.73198C4.58969 5.78868 4.25059 5.77543 3.91333 5.73106C3.79335 6.33851 3.74612 6.77307 3.74329 7.11601C3.74128 7.42692 3.77744 7.73691 3.85098 8.039C3.95409 8.50285 4.2479 9.04321 4.63334 9.44756H4.63328ZM6.22703 8.57559C6.03904 8.70408 5.85766 8.77209 5.68098 8.77397C5.5062 8.77587 5.32764 8.71256 5.14439 8.57937C5.11964 8.56138 5.09159 8.54844 5.06184 8.54129C5.03209 8.53414 5.00122 8.53292 4.971 8.5377C4.94078 8.54248 4.91179 8.55317 4.8857 8.56915C4.85961 8.58513 4.83692 8.6061 4.81893 8.63085C4.80094 8.65559 4.788 8.68365 4.78085 8.7134C4.77371 8.74315 4.77249 8.77401 4.77727 8.80423C4.78205 8.83446 4.79273 8.86344 4.80871 8.88953C4.82469 8.91562 4.84566 8.93831 4.87041 8.9563C5.13775 9.14998 5.4089 9.24162 5.68476 9.2388C5.95778 9.23594 6.22611 9.14054 6.48872 8.96008C6.53972 8.92538 6.57484 8.87184 6.58637 8.81124C6.59789 8.75064 6.58487 8.68794 6.55017 8.63694C6.51547 8.58594 6.46193 8.55082 6.40133 8.53929C6.34073 8.52777 6.27803 8.54079 6.22703 8.57549V8.57559ZM5.09525 7.55527H4.32064C4.2353 7.55495 4.15275 7.52487 4.08721 7.4702C4.02168 7.41553 3.97727 7.33971 3.96165 7.25581L3.84638 6.63606C3.83644 6.58371 3.83839 6.52979 3.85206 6.47828C3.86571 6.4266 3.89054 6.37855 3.92481 6.33753C3.95887 6.2961 4.00181 6.26285 4.05044 6.24023C4.09847 6.21708 4.15112 6.20512 4.20444 6.20525H5.21151C5.26483 6.20511 5.31749 6.21707 5.36551 6.24023C5.41415 6.26284 5.45709 6.29609 5.49115 6.33753C5.52542 6.37855 5.55027 6.4266 5.56392 6.47828C5.56675 6.48775 5.56862 6.49718 5.5705 6.50665H5.79534C5.79721 6.49718 5.79912 6.48775 5.80099 6.47828C5.82166 6.40025 5.86748 6.33121 5.93135 6.28185C5.99523 6.23249 6.0736 6.20557 6.15432 6.20525H7.16047C7.2141 6.20501 7.26707 6.21697 7.31539 6.24023C7.36404 6.26285 7.40698 6.2961 7.44106 6.33753C7.47531 6.37856 7.50014 6.42661 7.5138 6.47828C7.52699 6.52986 7.52892 6.58367 7.51946 6.63606L7.40326 7.25581C7.38801 7.33967 7.34389 7.41554 7.27854 7.47027C7.21285 7.52461 7.13042 7.55463 7.04516 7.55527H6.26963C6.18464 7.55478 6.10246 7.52473 6.0372 7.47027C5.9713 7.41587 5.92679 7.3399 5.91157 7.25581L5.85864 6.97332H5.50627L5.45433 7.25581C5.43833 7.33962 5.39396 7.41535 5.32866 7.47027C5.26314 7.52489 5.18062 7.55495 5.09531 7.55527H5.09525ZM6.27617 6.67196L6.35362 7.0886H6.96203L7.03951 6.67196H6.27617ZM5.08953 6.67196H4.32629L4.40377 7.0886H5.01218L5.08953 6.67196ZM12.3365 5.95018C12.3568 5.97308 12.3814 5.99174 12.409 6.00509C12.4365 6.01844 12.4664 6.02622 12.4969 6.02797C12.5275 6.02973 12.5581 6.02543 12.587 6.01532C12.6158 6.00522 12.6424 5.9895 12.6652 5.96908L13.5193 5.21048C13.5438 5.18826 13.5633 5.1611 13.5766 5.13078C13.5899 5.10047 13.5967 5.06769 13.5964 5.03459C13.5961 5.00149 13.5889 4.96882 13.5751 4.93873C13.5613 4.90864 13.5413 4.8818 13.5164 4.85997L12.6652 4.1042C12.6188 4.06493 12.5588 4.04537 12.4981 4.04969C12.4374 4.05401 12.3808 4.08187 12.3404 4.12733C12.3 4.17279 12.2789 4.23225 12.2817 4.29302C12.2845 4.3538 12.3109 4.41107 12.3554 4.45263L13.0128 5.03646L12.3554 5.62127C12.3324 5.64158 12.3138 5.66622 12.3004 5.69377C12.2871 5.72133 12.2793 5.75126 12.2775 5.78183C12.2758 5.8124 12.2801 5.84301 12.2903 5.87191C12.3004 5.9008 12.3162 5.9274 12.3366 5.95018H12.3365ZM10.9459 4.1231C10.9046 4.07725 10.847 4.04955 10.7854 4.04601C10.7238 4.04247 10.6634 4.06338 10.6172 4.1042L9.76606 4.85997C9.74118 4.8818 9.72119 4.90864 9.70741 4.93873C9.69363 4.96882 9.68636 5.00149 9.68609 5.03458C9.68582 5.06768 9.69255 5.10046 9.70584 5.13078C9.71913 5.16109 9.73868 5.18825 9.76321 5.21048L10.6173 5.96908C10.6634 6.0096 10.7238 6.03023 10.7851 6.02647C10.8464 6.02271 10.9038 5.99486 10.9447 5.94899C10.9856 5.90312 11.0067 5.84296 11.0034 5.7816C11.0001 5.72024 10.9727 5.66267 10.9271 5.62143L10.2686 5.03662L10.9271 4.4528C10.973 4.41136 11.0007 4.35353 11.0042 4.29182C11.0078 4.23011 10.9868 4.1695 10.946 4.1231H10.9459ZM11.5184 6.3961L12.2147 3.7981C12.2287 3.73902 12.2192 3.67679 12.1881 3.62463C12.157 3.57247 12.1067 3.53448 12.0481 3.51874C11.9894 3.503 11.927 3.51074 11.8739 3.54032C11.8209 3.56991 11.7815 3.619 11.764 3.67717L11.0679 6.27507C11.0539 6.33416 11.0634 6.39639 11.0945 6.44855C11.1256 6.50071 11.1758 6.5387 11.2345 6.55444C11.2931 6.57018 11.3556 6.56243 11.4086 6.53285C11.4617 6.50327 11.5011 6.45418 11.5185 6.39601L11.5184 6.3961Z"
                      fill="white"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_2057_600">
                      <rect
                        width="16.83"
                        height="16.83"
                        fill="white"
                        transform="translate(0.833984)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                Instructor
              </TabsTrigger>
              <TabsTrigger
                className="text-[#E3E3E3] flex gap-1"
                value={"review"}
              >
                <IoMdStar color="gold" />
                Review
              </TabsTrigger>
            </TabsList>
            <TabsContent className="py-4 px-3 h-[330px]" value="overview">
              <div>
                <p className="text-[14px] text-[#E3E3E3]">
                  {courseData?.description}
                </p>
                <p className="py-4 px-1">What you will learn:</p>
                Available soon
              </div>
            </TabsContent>
            <TabsContent className=" h-[330px] pl-8 pt-4" value="curriculum">
              <h1>Available soon</h1>
            </TabsContent>
            <TabsContent
              className="h-[330px] py-3 px-3 flex flex-col gap-3"
              value="instructor"
            >
              <p>{courseData?.tutorName}</p>
              <p>
                <strong>Language:</strong> {"English"}
              </p>
            </TabsContent>
            {/* <TabsContent className="" value="review">
              <p>
                <strong>Number of Reviews:</strong> {numberOfReviews}
              </p>
              <p>
                <strong>Rating:</strong> {rating}
              </p>
            </TabsContent> */}
          </Tabs>
        </div>
        {/* second part of the card */}
        <div
          style={{
            background: `rgba(83, 104, 197, 0.05)`,
            borderRadius: "6px",
            border: " 0.7px solid #465BB8",
          }}
          className="w-[390px] flex flex-col border-1 border-solid items-center  justify-center"
        >
          <picture className="w-full">
            <img
              src={"/images/courseDetailImage.png"}
              alt="Course Image"
              width={300}
              height={200}
              className="w-[388px] h-[238px]"
            />
          </picture>
          <div className="w-full flex flex-col items-center justify-center">
            <div className=" w-full flex flex-col items-center ">
              <div className="w-3/4 flex justify-start pr-2 py-2">
                <p className=" text-[#FFF] text-[30px] font-semibold">{`$${courseData?.price}.00`}</p>
              </div>
              <Button
                onClick={() => {
                  addToCart();
                }}
                style={{
                  background:
                    "linear-gradient(90deg, #465BB8 0.26%, #663FD6 99.71%)",
                }}
                className="w-[321px] h-[43px] flex flex-row items-center justify-center rounded-[32px]"
              >
                Book Now
              </Button>
            </div>

            <div className="flex flex-col justify-center items-center gap-3">
              <div className="flex w-full pr-10 py-5  flex-col gap-3">
                {/* course level */}
                <div className="flex flex-row gap-2 ">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="17"
                    height="17"
                    viewBox="0 0 17 17"
                    fill="none"
                  >
                    <g clip-path="url(#clip0_2063_1782)">
                      <path
                        d="M13.6094 6.38184H15.7327V14.379H13.6094V6.38184Z"
                        fill="white"
                      />
                      <path
                        d="M9.49414 8.50656H11.6175V14.379H9.49414V8.50656Z"
                        fill="white"
                      />
                      <path
                        d="M5.38086 10.6299H7.50422V14.379H5.38086V10.6299Z"
                        fill="white"
                      />
                      <path
                        d="M0.00585938 15.3743H16.9927V17H0.00585938V15.3743Z"
                        fill="white"
                      />
                      <path
                        d="M1.26758 12.7519H3.39094V14.379H1.26758V12.7519Z"
                        fill="white"
                      />
                      <path
                        d="M12.6058 1.75559L8.49919 0L4.39258 1.75559L8.49919 3.5112L12.6058 1.75559Z"
                        fill="white"
                      />
                      <path
                        d="M8.4988 4.59369L5.29688 3.22482V5.32051C6.31944 5.75766 7.40912 5.97623 8.4988 5.97623C9.58848 5.97623 10.6782 5.75766 11.7007 5.32051V3.22482L8.4988 4.59369Z"
                        fill="white"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_2063_1782">
                        <rect width="17" height="17" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                  <h5 className="text-[#FFF] flex items-center justify-center gap-1 text-[14px] font-semibold capitalize ">
                    Course Level:
                    <span className="text-[#E3E3E3] w-[67px] h-[18px] capitalize">
                      {"Beginner"}
                    </span>
                  </h5>
                </div>

                {/* course lesson */}
                <div className="flex flex-row gap-2 ">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="17"
                    height="17"
                    viewBox="0 0 17 17"
                    fill="none"
                  >
                    <g clip-path="url(#clip0_2057_648)">
                      <path
                        d="M15.6402 3.30556C16.0441 3.30556 16.3716 2.97802 16.3716 2.57418V1.41031C16.3716 1.00645 16.0441 0.678925 15.6402 0.678925H1.36224C0.958383 0.678921 0.630859 1.00645 0.630859 1.41031V2.57418C0.630859 2.97802 0.958383 3.30556 1.36224 3.30556H1.43219V11.3381H1.36224C0.958383 11.3381 0.630859 11.6656 0.630859 12.0663V13.2333C0.630859 13.6372 0.958383 13.9647 1.36224 13.9647H8.25V14.6325C7.89703 14.7406 7.63627 15.0682 7.63627 15.4561C7.63627 15.9331 8.02424 16.3211 8.50123 16.3211C8.97822 16.3211 9.36617 15.9331 9.36617 15.4561C9.36617 15.0586 9.0927 14.7247 8.727 14.6262V13.9647H15.6402C16.0441 13.9647 16.3716 13.6372 16.3716 13.2333V12.0663C16.3716 11.6656 16.0441 11.3381 15.6402 11.3381H15.5703V3.30556H15.6402ZM15.0933 11.3381H1.90918V3.30556H15.0933V11.3381Z"
                        fill="white"
                      />
                      <path
                        d="M8.5015 10.1202C10.0469 10.1202 11.2998 8.86729 11.2998 7.32184C11.2998 5.77637 10.0469 4.52347 8.5015 4.52347C6.95603 4.52347 5.70312 5.77637 5.70312 7.32184C5.70312 8.86729 6.95603 10.1202 8.5015 10.1202ZM7.73193 6.48233C7.73193 6.15797 8.10082 5.97036 8.36476 6.16115L9.52224 7.00384C9.73848 7.16284 9.73848 7.48718 9.52224 7.64618L8.36476 8.48887C8.10082 8.67966 7.73193 8.49524 7.73193 8.16769V6.48233Z"
                        fill="white"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_2057_648">
                        <rect width="17" height="17" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                  <h5 className="text-[#FFF] flex items-center justify-center gap-1 text-[14px] font-semibold capitalize ">
                    Lessons:
                    <span className="text-[#E3E3E3] w-[67px] h-[18px] capitalize">
                      {"20"}
                    </span>
                  </h5>
                </div>
                {/* course duration */}
                <div className="flex flex-row gap-2 ">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="18"
                    height="18"
                    viewBox="0 0 18 18"
                    fill="none"
                  >
                    <g clip-path="url(#clip0_2069_1793)">
                      <path
                        d="M16.7286 11.7673C15.5778 14.8629 12.585 16.9426 9.28125 16.9426C4.90169 16.9426 1.33868 13.3796 1.33868 9C1.33868 4.62044 4.90169 1.05743 9.28125 1.05743C11.3783 1.05743 13.3408 1.86301 14.814 3.29933L13.7845 3.20897L13.6923 4.26242L16.4632 4.50536L16.7061 1.73447L15.6526 1.64204L15.5719 2.56448C14.9073 1.9156 14.1431 1.36794 13.3169 0.952927C12.0582 0.320663 10.7004 0 9.28125 0C6.8773 0 4.61714 0.936172 2.91728 2.63603C1.21742 4.33589 0.28125 6.59605 0.28125 9C0.28125 11.4039 1.21742 13.6641 2.91728 15.364C4.61714 17.0638 6.8773 18 9.28125 18C11.1544 18 12.95 17.4301 14.4739 16.3518C15.964 15.2975 17.0863 13.8396 17.7197 12.1358L16.7286 11.7673Z"
                        fill="white"
                      />
                      <path
                        d="M9.26765 3.47647C6.22197 3.47647 3.74414 5.9543 3.74414 8.99998C3.74414 12.0457 6.22197 14.5235 9.26765 14.5235C12.3133 14.5235 14.7912 12.0457 14.7912 8.99998C14.7912 5.9543 12.3133 3.47647 9.26765 3.47647ZM11.3945 9.5287H8.75157V5.73622H9.80901V8.47127H11.3945V9.5287Z"
                        fill="white"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_2069_1793">
                        <rect width="18" height="18" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                  <h5 className=" flex items-center justify-center gap-1 text-[#FFF] text-[14px] font-semibold capitalize ">
                    Duration:
                    <span className="text-[#E3E3E3] w-[160px] h-[18px] capitalize">
                      {courseData?.duration} Months Approx
                    </span>
                  </h5>
                </div>

                {/* enrolled */}
                <div className="flex flex-row gap-2 ">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="17"
                    height="17"
                    viewBox="0 0 17 17"
                    fill="none"
                  >
                    <g clip-path="url(#clip0_2063_1782)">
                      <path
                        d="M13.6094 6.38184H15.7327V14.379H13.6094V6.38184Z"
                        fill="white"
                      />
                      <path
                        d="M9.49414 8.50656H11.6175V14.379H9.49414V8.50656Z"
                        fill="white"
                      />
                      <path
                        d="M5.38086 10.6299H7.50422V14.379H5.38086V10.6299Z"
                        fill="white"
                      />
                      <path
                        d="M0.00585938 15.3743H16.9927V17H0.00585938V15.3743Z"
                        fill="white"
                      />
                      <path
                        d="M1.26758 12.7519H3.39094V14.379H1.26758V12.7519Z"
                        fill="white"
                      />
                      <path
                        d="M12.6058 1.75559L8.49919 0L4.39258 1.75559L8.49919 3.5112L12.6058 1.75559Z"
                        fill="white"
                      />
                      <path
                        d="M8.4988 4.59369L5.29688 3.22482V5.32051C6.31944 5.75766 7.40912 5.97623 8.4988 5.97623C9.58848 5.97623 10.6782 5.75766 11.7007 5.32051V3.22482L8.4988 4.59369Z"
                        fill="white"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_2063_1782">
                        <rect width="17" height="17" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                  <h5 className="flex items-center justify-center gap-1 text-[#FFF] text-[14px] font-semibold capitalize ">
                    Enrolled:
                    <span className="text-[#E3E3E3] w-[67px] h-[18px] capitalize">
                      {courseData?.numberOfEnrolledStudents}
                    </span>
                  </h5>
                </div>
                {/* language */}
                <div className="flex flex-row gap-2 ">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="17"
                    height="17"
                    viewBox="0 0 17 17"
                    fill="none"
                  >
                    <g clip-path="url(#clip0_2057_670)">
                      <path
                        d="M14.9531 12.4495C15.6824 11.2614 16.0675 9.89417 16.0655 8.50013V8.49986C16.0675 7.1058 15.6824 5.73858 14.9531 4.55048L14.9489 4.54399C14.2724 3.44127 13.3243 2.53047 12.1954 1.89862C11.0664 1.26678 9.79431 0.935003 8.50057 0.934998C7.20684 0.934992 5.93472 1.26676 4.80576 1.89859C3.67681 2.53043 2.72875 3.44122 2.05217 4.54394L2.04797 4.55051C1.32051 5.73942 0.935552 7.10616 0.935547 8.49997C0.935541 9.89379 1.32049 11.2605 2.04794 12.4494L2.05221 12.4561C2.72879 13.5588 3.67685 14.4696 4.8058 15.1014C5.93474 15.7332 7.20685 16.065 8.50058 16.065C9.7943 16.065 11.0664 15.7332 12.1953 15.1014C13.3243 14.4695 14.2723 13.5588 14.9489 12.456L14.9531 12.4495ZM9.46753 14.7684C9.32337 14.9075 9.15745 15.0221 8.97633 15.1077C8.82766 15.1783 8.66513 15.215 8.50054 15.215C8.33595 15.215 8.17342 15.1783 8.02476 15.1077C7.68008 14.9316 7.38503 14.672 7.16658 14.3525C6.72044 13.7078 6.38982 12.9905 6.18949 12.2325C6.95906 12.1851 7.72941 12.161 8.50055 12.1601C9.27136 12.1601 10.0418 12.1843 10.8117 12.2325C10.7008 12.6222 10.5623 13.0035 10.3973 13.3736C10.1799 13.894 9.86423 14.3676 9.46753 14.7684ZM1.80034 8.925H4.85167C4.87153 9.77643 4.96382 10.6246 5.12753 11.4604C4.29342 11.5338 3.46143 11.6346 2.63158 11.7628C2.14564 10.891 1.86157 9.92123 1.80034 8.925ZM2.63158 5.23715C3.4611 5.36569 4.29338 5.46653 5.12841 5.53965C4.96437 6.37537 4.87188 7.22356 4.85194 8.075H1.80034C1.86157 7.07876 2.14563 6.10898 2.63158 5.23715ZM7.53356 2.23153C7.67771 2.09243 7.84363 1.97783 8.02476 1.89227C8.17342 1.82164 8.33595 1.78499 8.50054 1.78499C8.66513 1.78499 8.82766 1.82164 8.97633 1.89227C9.321 2.06833 9.61605 2.32797 9.8345 2.64747C10.2806 3.29215 10.6113 4.00951 10.8116 4.76748C10.042 4.81483 9.27167 4.83896 8.50055 4.83985C7.72974 4.83984 6.95934 4.81571 6.18935 4.76747C6.30024 4.37775 6.43874 3.99643 6.60382 3.6264C6.82118 3.106 7.13686 2.63239 7.53356 2.23153ZM15.2008 8.075H12.1494C12.1296 7.22356 12.0373 6.37536 11.8736 5.53958C12.7077 5.46618 13.5397 5.36537 14.3695 5.23714C14.8555 6.10898 15.1395 7.07876 15.2008 8.075ZM5.98243 11.3943C5.8162 10.5811 5.72232 9.75477 5.70189 8.925H11.2993C11.279 9.75477 11.1853 10.5811 11.0193 11.3944C10.1806 11.3393 9.34103 11.3112 8.50055 11.3101C7.66066 11.3101 6.82129 11.3382 5.98243 11.3943ZM11.0187 5.60565C11.1849 6.41887 11.2788 7.24521 11.2992 8.075H5.70179C5.72204 7.24522 5.81575 6.41886 5.98183 5.60562C6.82048 5.66064 7.66005 5.68872 8.50055 5.68984C9.34043 5.68984 10.1798 5.66177 11.0187 5.60565ZM12.1491 8.925H15.2008C15.1395 9.92123 14.8555 10.891 14.3695 11.7628C13.54 11.6343 12.7077 11.5334 11.8727 11.4603C12.0367 10.6246 12.1292 9.77643 12.1491 8.925ZM13.8599 4.45481C13.1346 4.55945 12.4071 4.6423 11.6775 4.70335C11.5464 4.21512 11.3773 3.73791 11.1717 3.27606C10.984 2.85105 10.7479 2.44916 10.4679 2.07836C11.8208 2.49325 13.0079 3.32499 13.8599 4.45481ZM3.7523 3.75175C4.52834 2.97498 5.48307 2.40043 6.53281 2.07846C6.51688 2.09909 6.50049 2.1188 6.4848 2.13986C5.94523 2.91658 5.55221 3.78541 5.32512 4.70348C4.59546 4.64168 3.86749 4.55879 3.14122 4.45481C3.32853 4.2067 3.53271 3.9718 3.7523 3.75175ZM3.14122 12.5452C3.86649 12.4405 4.59394 12.3577 5.32356 12.2966C5.45469 12.7849 5.62382 13.2621 5.82939 13.7239C6.01707 14.1489 6.25323 14.5508 6.53316 14.9216C5.18032 14.5067 3.99317 13.675 3.14122 12.5452ZM13.2488 13.2482C12.4727 14.025 11.518 14.5996 10.4683 14.9215C10.4842 14.9009 10.5006 14.8812 10.5163 14.8601C11.0559 14.0834 11.4489 13.2146 11.676 12.2965C12.4056 12.3583 13.1336 12.4412 13.8599 12.5452C13.6726 12.7933 13.4684 13.0282 13.2488 13.2482Z"
                        fill="white"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_2057_670">
                        <rect width="17" height="17" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                  <h5 className="flex items-center justify-center gap-1 text-[#FFF] text-[14px] font-semibold capitalize ">
                    Language:
                    <span className="text-[#E3E3E3] w-[67px] h-[18px] capitalize">
                      {"English"}
                    </span>
                  </h5>
                </div>
              </div>
              <div className="w-full flex justify-center items-center py-6">
                <Button
                  style={{
                    borderRadius: "32px",
                    border: "1px solid rgba(230, 230, 230, 0.36)",
                    background: "#05091E",
                  }}
                  className="flex  gap-3 items-center justify-center p-6 w-[249px] h-[40px]"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="14"
                    height="14"
                    viewBox="0 0 14 14"
                    fill="none"
                  >
                    <g clip-path="url(#clip0_2057_655)">
                      <path
                        d="M11.1016 9.07812C10.2911 9.07812 9.57685 9.47682 9.12825 10.0831L5.24973 8.09714C5.31412 7.87765 5.35938 7.65018 5.35938 7.41016C5.35938 7.0846 5.29263 6.7751 5.17732 6.49042L9.23636 4.04786C9.68808 4.578 10.352 4.92188 11.1016 4.92188C12.4586 4.92188 13.5625 3.81798 13.5625 2.46094C13.5625 1.10389 12.4586 0 11.1016 0C9.74452 0 8.64062 1.10389 8.64062 2.46094C8.64062 2.77367 8.70502 3.07032 8.81185 3.34573L4.74072 5.79545C4.28939 5.28106 3.635 4.94922 2.89844 4.94922C1.54139 4.94922 0.4375 6.05311 0.4375 7.41016C0.4375 8.7672 1.54139 9.87109 2.89844 9.87109C3.7223 9.87109 4.44858 9.46069 4.89549 8.83734L8.76124 10.8169C8.69004 11.0467 8.64062 11.2861 8.64062 11.5391C8.64062 12.8961 9.74452 14 11.1016 14C12.4586 14 13.5625 12.8961 13.5625 11.5391C13.5625 10.182 12.4586 9.07812 11.1016 9.07812Z"
                        fill="white"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_2057_655">
                        <rect width="14" height="14" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                  Share this course
                </Button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div className="w-full  flex justify-start py-16">
        <div className="w-1/2 flex flex-col items-center">
          <h1 className=" h-[40px] text-[32px] font-bold capitalize pr-6 my-8">
            Related Courses
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="148"
              height="12"
              viewBox="0 0 148 12"
              fill="none"
            >
              <g clip-path="url(#clip0_2070_734)">
                <path
                  d="M147.765 -1.99341e-05L147.985 6.31318L90.1852 6.7004L12.1925 10.2396L69.8145 4.96496L0 5.16003"
                  fill="#663FD6"
                />
              </g>
              <defs>
                <clipPath id="clip0_2070_734">
                  <rect
                    width="147.855"
                    height="6.31705"
                    fill="white"
                    transform="translate(0 5.16003) rotate(-2)"
                  />
                </clipPath>
              </defs>
            </svg>
          </h1>
          <div className="flex flex-col gap-4 lg:flex-row md:flex-row">
            {allCourseData &&
              allCourseData
                .filter(
                  (course) =>
                    course._id.toString() !== params.id &&
                    course.category === courseData?.category
                )
                .slice(0, 5)
                .map((course) => (
                  <CourseCard
                    id={course._id}
                    imageUrl={course.imageUrl}
                    tutorName={course.tutorName}
                    name={course.name}
                    price={course.price}
                    key={course._id}
                  />
                ))}
          </div>
        </div>
      </div>
      <div className="w-full flex justify-center items-center">
        <CallToAction />
      </div>
    </div>
  );
};

export default CourseDetails;
